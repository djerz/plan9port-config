# to update: cat $home/lib/plumbing | 9p write plumb/rules

editor = acme

# ms office files (docx?, xlsx?, pptx?)
data matches '([a-zA-Z¡-￿0-9_\-./][ a-zA-Z¡-￿0-9_\-./]*)\.([Dd][Oo][Cc][Xx]?|[Xx][Ll][Ss][Xx]?|[Pp][Pp][Tt][Xx]?)'
arg isfile	$0
plumb to office
plumb start rc -c 'xdg-open '''$file''' || open '''$file''''

# python errors
type is text
data matches ' *File "([a-zA-Z¡-￿0-9_\-./]+)", line ([0-9]+).*'
arg isfile $1
data set $file
attr add addr=$2
plumb to edit
plumb client $editor

# git commits
type is text
data matches 'commit ([a-z0-9][a-z0-9][a-z0-9][a-z0-9][a-z0-9][a-z0-9]+)'
plumb start rc -c 'cd '''$wdir'''; git show '''$1''' | 9p write acme/cons'

# include basic plumbing rules
include basic
